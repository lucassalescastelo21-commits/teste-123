<!DOCTYPE html>
text-align: center;
padding: 10px;
background: #111;
font-size: 14px;
}
</style>
</head>
<body>


<div id="slideshow"></div>


<footer>Atualização automática a cada 5 minutos</footer>


<script>
const rssUrl = "https://www.cnnbrasil.com.br/feed/";
const api = "https://api.rss2json.com/v1/api.json?rss_url=" + encodeURIComponent(rssUrl);


let slides = [];
let slideIndex = 0;


async function carregarNoticias() {
try {
const res = await fetch(api);
const data = await res.json();
montarSlides(data.items.slice(0, 10));
} catch (e) {
document.getElementById('slideshow').innerHTML = '<h1 style="padding:30px">Erro ao carregar notícias</h1>';
}
}


function montarSlides(noticias) {
const container = document.getElementById('slideshow');
container.innerHTML = '';
slides = [];


noticias.forEach((item, i) => {
const img = item.enclosure?.link || 'https://picsum.photos/1280/720?random=' + i;


const slide = document.createElement('div');
slide.className = 'slide';


slide.innerHTML = `
<div class="img-container" style="background-image:url('${img}')"></div>
<div class="content">
<h1>${item.title}</h1>
<p>${item.description.replace(/<[^>]*>/g,'').substring(0,220)}...</p>
</div>
`;


container.appendChild(slide);
slides.push(slide);
});


slideIndex = 0;
mostrarSlide();
}


function mostrarSlide() {
slides.forEach(slide => slide.classList.remove('active'));
slides[slideIndex].classList.add('active');
slideIndex = (slideIndex + 1) % slides.length;
}


// Troca a cada 10 segundos
setInterval(mostrarSlide, 10000);


// Atualiza feed a cada 5 minutos
setInterval(carregarNoticias, 300000);


carregarNoticias();
</script>


</body>
</html>
